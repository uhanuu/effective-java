# ğŸ“— Effective Java - Item 5

<br>
 
## 5ï¸âƒ£ ìì›ì„ ì§ì ‘ ëª…ì‹œí•˜ì§€ ë§ê³  ì˜ì¡´ ê°ì²´ ì£¼ì…ì„ ì‚¬ìš©í•˜ë¼ 

<br>

### â“ ì˜ì¡´ ê°ì²´ ì£¼ì…ì€ ë¬´ì—‡ì¼ê¹Œ?

**ì˜ì¡´ì„± ì£¼ì… (Dependency Injection)**

ì˜ì¡´ì„± ì£¼ì…ì„ ì„¤ëª…í•˜ê¸° ì „ì— `ì˜ì¡´ ê´€ê³„`ì— ëŒ€í•´ ë¨¼ì € ì•Œì•„ì•¼ í•©ë‹ˆë‹¤.    

    

**ì˜ì¡´ ê´€ê³„(Dependency)**
- Aê°€ Bì— ì˜ì¡´í•œë‹¤

>Bì˜ ìƒíƒœê°€ ë°”ë€” ë•Œ Aì˜ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ê²ƒì„ ì˜ì¡´ ê´€ê³„ë¼ê³  í•©ë‹ˆë‹¤.
```java
public class SpellChecker {

    private static final Dictionary dictionary = new DefaultDictionary();

    private SpellChecker() {}

    public static boolean isValid(String word) {
        // TODO ì—¬ê¸° SpellChecker ì½”ë“œ
        return dictionary.contains(word);
    }

    public static List<String> suggestions(String typo) {
        // TODO ì—¬ê¸° SpellChecker ì½”ë“œ
        return dictionary.closeWordsTo(typo);
    }
}
```
í˜„ì¬ `SpellCehcker`ëŠ”  `Dictionary`ì—  `ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œ`ë°©ì‹ìœ¼ë¡œ ì˜ì¡´í•˜ê³  ìˆìŠµë‹ˆë‹¤.  
ë§Œì•½ ì´ ìƒí™©ì—ì„œ ê¸°ì¡´ì— ìš°ë¦¬ê°€ ì˜ì–´ ì‚¬ì „ì„ í†µí•´ ìŠ¤í  ì²´í¬ë¥¼ í•˜ê³ ìˆì—ˆëŠ”ë° ìŠ¤í˜ì¸ì–´ ì‚¬ì „ìœ¼ë¡œ ìŠ¤í ì²´í¬ë¥¼ í•´ì•¼í•œë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œìš”?     
`ì˜ì¡´ì„±ì„ ì§ì ‘ ë³€ê²½`í•˜ê±°ë‚˜ ìŠ¤í˜ì¸ì–´ ì‚¬ì „ì— ì˜ì¡´ì„±ì„ ê°€ì§€ê³ ìˆëŠ” `ë˜ í•˜ë‚˜ì˜ ê°ì²´ë¥¼ ë§Œë“¤ì–´ì•¼í•©ë‹ˆë‹¤`.     
ì „ì„¸ê³„ì— ì–¸ì–´ê°€ ìˆ˜ë°±ê°œì¸ë° ê°ê° ê°ì²´ë¥¼ ì „ë¶€ ë§Œë“¤ ìˆ˜ ìˆì„ê¹Œìš”?  ìœ ì§€ë³´ìˆ˜ì„±ì€ ì–´ë–¨ê¹Œìš”??

<br>

### ğŸ¤” ê·¸ëŸ¼ í˜¹ì‹œ ì‹±ê¸€í†¤ìœ¼ë¡œ í•˜ë©´ ê´œì°®ì•„ì§ˆê¹Œìš”?

```java
public class SpellChecker {

    private final Dictionary dictionary = new DefaultDictionary();

    private SpellChecker() {}

    public static final SpellChecker INSTANCE = new SpellChecker();

    public boolean isValid(String word) {
        // ...
        return dictionary.contains(word);
    }

    public List<String> suggestions(String typo) {
        // ...
        return dictionary.closeWordsTo(typo);
    }
}

```
ì—¬ì „íˆ í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ì—ë§Œ ì˜ì¡´í•˜ê¸°ì— ì‚¬ì „ì„ ë°”ê¾¸ê³ ì í•  ë•Œ ì½”ë“œë¥¼ ìˆ˜ì •í•´ì£¼ê±°ë‚˜ ë˜ ë‹¤ë¥¸ `SpellChecker` ê°ì²´ë¥¼ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.


<br>

### ğŸ˜ ì´ë•Œ ì½”ë“œë¥¼ ì•„ë˜ì²˜ëŸ¼ ë°”ê¾¼ë‹¤ë©´ ì–´ë–¨ê¹Œìš”?

```java
public class SpellChecker {

    private final Dictionary dictionary;

    public SpellChecker(Dictionary dictionary) {
        this.dictionary = dictionary;
    }

    public SpellChecker(Supplier<Dictionary> dictionarySupplier) {
        this.dictionary = dictionarySupplier.get();
    }

    public boolean isValid(String word) {
        // TODO ì—¬ê¸° SpellChecker ì½”ë“œ
        return dictionary.contains(word);
    }

    public List<String> suggestions(String typo) {
        // TODO ì—¬ê¸° SpellChecker ì½”ë“œ
        return dictionary.closeWordsTo(typo);
    }
}
```

ìš°ë¦¬ê°€ `SpellCheckr`ë¥¼ ì‚¬ìš©í•˜ê³ ì í•  ë•Œ `ì›í•˜ëŠ” ì‚¬ì „ì„ ë„£ì–´ì£¼ë©´(ì£¼ì…í•´ì£¼ë©´)`ë©ë‹ˆë‹¤.  
ì´ê²Œ ë°”ë¡œ `ì˜ì¡´ì„± ì£¼ì…(Dependency Injection)` ì¤„ì—¬ì„œ `DI`ë¼ê³  í•©ë‹ˆë‹¤.  
ì˜ì¡´ì„± ì£¼ì… ë°©ì‹ìœ¼ë¡œ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ `ì‚¬ìš©í•˜ëŠ” ìì›ì— ë”°ë¼ ë™ì‘ì´ ë‹¬ë¼ì§€ëŠ” í´ë˜ìŠ¤`ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¦‰ `ìœ ì—°ì„±`ì´ ì—„ì²­ë‚˜ê²Œ ìƒìŠ¹ë©ë‹ˆë‹¤.    
ê²Œë‹¤ê°€ ì´ë¥¼ í†µí•´ `í…ŒìŠ¤íŠ¸ ìš©ì´ì„±`ë„ ë†’ì—¬ì¤ë‹ˆë‹¤.

<br>

### ğŸ‘ ì˜ì¡´ ì£¼ì…ì˜ í…ŒìŠ¤íŠ¸ ìš©ì´ì„±  

ë§Œì•½ ìš°ë¦¬ê°€ `ì˜ì¡´ì„± ì£¼ì…`ì´ ì•„ë‹Œ ì˜ì¡´ ê´€ê³„ë¥¼ ê°€ì§€ëŠ” ì½”ë“œë¥¼ ì‘ì„±í–ˆë‹¤ê³  ê°€ì •í•´ë´…ì‹œë‹¤. 
ì´ë•Œ ìš°ë¦¬ê°€ ì§„ì§œ ì‚¬ì „ì„ ê°€ì ¸ì™€ì„œ í…ŒìŠ¤íŠ¸í•˜ê³  ì‹¶ì€ê²Œ ì•„ë‹ˆë¼ ëª¨í‚¹ì„ í•´ì„œ í…ŒìŠ¤íŠ¸í•˜ê³  ì‹¶ì€ë° ì˜ì¡´ì„±ì´ ìˆìœ¼ë©´ ëª¨í‚¹í•  ìˆ˜ê°€ ì—†ìŠµë‹ˆë‹¤. (static methodeë„ ëª¨í‚¹í•˜ëŠ” ë°©ë²•ì´ ìˆì§€ë§Œ ê¶Œì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.)

```java
class SpellCheckerTest {

    @Test
    void isValid() {
        assertTrue(SpellChecker.isValid("test"));
    }
}
```
<br> 

í•˜ì§€ë§Œ `ì˜ì¡´ì„± ì£¼ì…`ì„ ì‚¬ìš©í•œë‹¤ë©´ ëª¨í‚¹ëœ ì‚¬ì „ì„ ê°€ì§€ê³  í…ŒìŠ¤íŠ¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```java
class SpellCheckerTest {

    @Test
    void isValid() {
        SpellChecker spellChecker = new SpellChecker(MockDictionary::new);
        spellChecker.isValid("test");
    }
}
```


### ğŸ“š Reference

- [ì´í™í‹°ë¸Œ ìë°” ì™„ë²½ ê³µëµ 1ë¶€](https://www.inflearn.com/course/%EC%9D%B4%ED%8E%99%ED%8B%B0%EB%B8%8C-%EC%9E%90%EB%B0%94-1)
- [ì˜ì¡´ê´€ê³„ ì£¼ì…(Dependency Injection) ì‰½ê²Œ ì´í•´í•˜ê¸°](https://tecoble.techcourse.co.kr/post/2021-04-27-dependency-injection/)
