## ğŸ¤” ë¹„ê²€ì‚¬ ê²½ê³ (unchecked warning)?

<p align = "center">
<img width="868" alt="image" src="https://github.com/kim0527/Effective-Java/assets/143387515/1e4f0357-69c5-46b4-88f7-0777aca6e47b">
</p>

- ë¹„ê²€ì‚¬ ê²½ê³ ëŠ” ëŸ°íƒ€ì„ì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì ì¬ì ì¸ ìœ„í—˜ ì•Œë¦¬ëŠ” ì—­í• ì„ í•œë‹¤,
- ì»´íŒŒì¼ì€ ë˜ê¸° ë•Œë¬¸ì— ìœ„ ê·¸ë¦¼ì²˜ëŸ¼ ë…¸ë€ìƒ‰ìœ¼ë¡œ í‘œì‹œëœë‹¤.
- ì œë„¤ë¦­ì„ ì‚¬ìš©í•˜ë©´ íƒ€ì…ìœ¼ë¡œ ì¸í•´ ì´ëŸ¬í•œ ë¹„ê²€ì‚¬ ê²½ê³ ë¥¼ ë§ì´ ë§ˆì£¼ì¹  ê²ƒì´ë‹¤.

ì´ëŸ¬í•œ ê²½ê³ ëŠ” ê°€ëŠ¥í•œ ëª¨ë‘ ì—†ì• ì•¼ **í”„ë¡œê·¸ë¨ì´ ì˜ë„ëŒ€ë¡œ ë™ì‘í•œë‹¤ëŠ” ê²ƒ**ì„ ë³´ì¥í•  ìˆ˜ ìˆë‹¤.

## ğŸ¤·â€â™‚ï¸ ê·¸ë ‡ë‹¤ë©´ ìœ„ ì˜ˆì‹œëŠ” ì–´ë–»ê²Œ í•´ê²°í•  ìˆ˜ ìˆì„ê¹Œ?

```java
public static void main(String[] args) {
    Set<String> set1 = new HashSet<String>();    // <String>
    Set<String> set2 = new HashSet<>();          // <>
}
```

- ë§¤ê°œë³€ìˆ˜í™” ëœ íƒ€ì…ì„ ì˜¬ë°”ë¥´ê²Œ ì‘ì„±í•˜ë©´ ëœë‹¤.
- í˜¹ì€ <>ë§Œ ì‘ì„±í•´ì¤˜ë„ ì»´íŒŒì¼ëŸ¬ê°€ ì˜¬ë°”ë¥¸ ì‹¤ì œ íƒ€ì… ë§¤ê°œë³€ìˆ˜ë¥¼ ì¶”ë¡ í•´ì£¼ê¸° ë•Œë¬¸ì— ë¹„ê²€ì‚¬ ê²½ê³ ëŠ” ì‚¬ë¼ì§„ë‹¤.

## ğŸ¤¨ ê·¸ë ‡ë‹¤ë©´ ê²½ê³ ë¥¼ ì—†ì• ê¸° ì‰½ì§€ ì•Šì„ë•Œ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ?

ëª¨ë“  ê²½ê³ ë¥¼ ì²˜ë¦¬í•˜ê¸° í˜ë“  ê²½ìš°ê°€ ì¡´ì¬í•  ê²ƒì´ë‹¤.

ê·¸ëŸ° ê²½ìš°ì—ëŠ” ```@SuppressWarning```ì„ ì‚¬ìš©í•˜ì—¬, ê²½ê³ ë¥¼ ìˆ¨ê¸¸ ìˆ˜ ìˆë‹¤.

í•˜ì§€ë§Œ ì œë„ˆë¦­íƒ€ì…ì—ì„œ í•´ë‹¹ ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í• ë•Œ ì£¼ì˜ì‚¬í•­ì´ ìˆìœ¼ë‹ˆ, ì´ë¥¼ ì‚´í´ë³´ì.

### ì£¼ì˜ì‚¬í•­ 1ï¸âƒ£ : íƒ€ì…ì´ í™•ì‹¤íˆ ì•ˆì „í•œì§€ ì‚´í´ë³´ì.

- íƒ€ì…ì´ ì•ˆì „í•¨ì„ ê²€ì¦í•˜ì§€ ì•Šì€ ì±„ë¡œ ê²½ê³ ë¥¼ ìˆ¨ê¸°ë©´, ìŠ¤ìŠ¤ë¡œ ì˜ëª»ëœ ë³´ì•ˆ ì¸ì‹ì„ ì‹¬ì–´ì£¼ëŠ” ê¼´ì´ë‹¤.
- ê²½ê³  ì—†ì´ ì»´íŒŒì¼ì´ ë˜ê¸´ í•˜ì§€ë§Œ, ëŸ°íƒ€ì„ê³¼ì •ì—ì„œ ```ClassCastException```ì´ ë°œìƒí•  í™•ë¥ ì´ ë†’ë‹¤.

> ğŸ§‘â€ğŸ’» ë°˜ë©´, ì•ˆì „í•˜ë‹¤ê°€ ê²€ì¦í–ˆë‹¤ë©´ ë¹„ê²€ì‚¬ ê²½ê³ ë¥¼ ê¼­ ìˆ¨ê¸°ì.

> ì œê±°í•˜ì§€ ì•Šì€ ê²½ë¡œì¸í•´, ì§„ì§œ ë¬¸ì œë¥¼ ì•Œë¦¬ëŠ” ê²½ê³ ë¥¼ ë†“ì¹  ìˆ˜ ìˆê²Œ ëœë‹¤.
> ì§„ì§œ ê²½ê³ ê°€ ì œê±°í•˜ì§€ ì•Šì€ ìˆ˜ë§ì€ ê±°ì§“ ê²½ê³  ì‚¬ì´ì— íŒŒë¬»í˜€ìˆëŠ” ê²ƒê³¼ ê°™ë‹¤.

### ì£¼ì˜ì‚¬í•­ 2ï¸âƒ£ : ì–´ë…¸í…Œì´ì…˜ì€ í•­ìƒ ê°€ëŠ¥í•œ ì¢ì€ ë²”ìœ„ì— ì ìš©í•˜ì.

- ```@SuppressWarning```ì€ ê°œë³„ ì§€ì—­ë³€ìˆ˜ ë¶€í„° í´ë˜ìŠ¤ ì „ì²´ì—ë„ ì„ ì–¸í•˜ì—¬ ì ìš©í•  ìˆ˜ ìˆë‹¤.
- ì´ë¥¼ ë¬´ì‘ì • ë„“ì€ ë²”ìœ„ì— ì ìš©ì‹œí‚¤ë©´, ìì¹« ì‹¬ê°í•œ ê²½ê³ ë¥¼ ë†“ì¹  ìˆ˜ ìˆë‹¤.
- ë³€ìˆ˜ ì„ ì–¸, ì•„ì£¼ ì§§ì€ ë©”ì„œë“œ, í˜¹ì€ ìƒì„±ìì™€ ê°™ì´ ê°€ëŠ¥í•œ ì¢ì€ ë²”ìœ„ì— ì ìš©í•˜ì.

#### ì˜ˆì‹œ

> ArrayListì˜ toArray()

```java
public <T> T[] toArray(T[] a) {
    if (a.length < size)
        // Make a new array of a's runtime type, but my contents:
        return (T[]) Arrays.copyOf(elementData, size, a.getClass());
    System.arraycopy(elementData, 0, a, 0, size);
    if (a.length > size)
        a[size] = null;
    return a;
}
```

<p align = "center">
<img width="895" alt="image" src="https://github.com/kim0527/Effective-Java/assets/143387515/92d1354b-1952-4212-874a-4e76115019a4">
</p>

- ìœ„ ì‚¬ì§„ê³¼ ê°™ì´ ë¹„ê²€ì‚¬ ê²½ê³ ê°€ ë°œìƒí•œë‹¤.

#### ì™œ ë¹„ê²€ì‚¬ ê²½ê³ ê°€ ë°œìƒí• ê¹Œ?

- ì œë„¤ë¦­ íƒ€ì… TëŠ” **ëŸ°íƒ€ì„ê³¼ì •ì—ì„œ ì‚¬ë¼ì§€ê²Œ ëœë‹¤.**
- ```Arrays.copyOf```ì˜ ë°˜í™˜íƒ€ì…ì´ Objectê°€ ë˜ì—ˆê³  ì´ë¥¼ T[]ë¡œ castingí•˜ëŠ” ê³¼ì •ì„ ë¶ˆì•ˆì •í•œ castingìœ¼ë¡œ ì¸ì‹œê°›ì—¬ ê²½ê³ ë¥¼ ë„ìš´ ê²ƒì´ë‹¤.

> Arrays.copyOf()

```java
public static <T,U> T[] copyOf(U[] original, int newLength, Class<? extends T[]> newType) {
    T[] copy = ((Object)newType == (Object)Object[].class)
        ? (T[]) new Object[newLength]
        : (T[]) Array.newInstance(newType.getComponentType(), newLength);
    System.arraycopy(original, 0, copy, 0,
                     Math.min(original.length, newLength));
    return copy;
}
```
- í•˜ì§€ë§Œ ```Arrays.copyOf```ê°€ ë°˜í™˜í•˜ëŠ” íƒ€ì…ì€ T[]ì´ê³ , ```toArray```ì— ì¸ìë¡œ ë“¤ì–´ì˜¤ëŠ” ë°°ì—´ë„ T[]ì´ë‹¤.
- ê·¸ë˜ì„œ ì¼ì¹˜í•˜ëŠ” í˜•ë³€í™˜ íƒ€ì…ìœ¼ë¡œ ì•ˆì „í•˜ê¸° ë•Œë¬¸ì— ì´ë¥¼ ```@SuppressWarning```ë¥¼ í†µí•´ ì§€ì›Œì¤„ ìˆ˜ ìˆë‹¤.

> @SuppressWarning ì ìš© í›„

```java
public <T> T[] toArray(T[] a){
  if(a.length < size){
    @SuppressWarnings("unchecked") T[] result =                    //returnì— ì§ì ‘ ì–´ë…¸í…Œì´ì…˜ì„ ë‹¬ ìˆ˜ ì—†ìœ¼ë‹ˆ
        (T[]) Arrays.copyOf(elements, size, a.getClass());    // resultë¡œ ë³€ìˆ˜ë¥¼ ë”°ë¡œ ì •ì˜í•´ì„œ ë¶™ì—¬ì£¼ì.
    return result; 
  }
    ...
}
```

- ì´ë•Œ, ë©”ì„œë“œ ì „ì²´ì— ì–´ë…¸í…Œì´ì…˜ì„ ë‹¬ìˆ˜ë„ ìˆì§€ë§Œ, ì–´ë…¸í…Œì´ì…˜ì€ ì¢ì€ ë²”ìœ„ì—ì„œ ì ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.
- ê·¸ë˜ì„œ ìœ„ì™€ ê°™ì´ return í•´ì£¼ëŠ” ê³³ì—ë§Œ @SuppressWarningì„ ì ìš©í•´ì£¼ì—ˆë‹¤.

### ì£¼ì˜ì‚¬í•­ 3ï¸âƒ£ : ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í• ë•Œ, ì•ˆì „í•œ ì´ìœ ë„ ê¼­ ê°™ì´ ëª…ì‹œí•˜ì.

- ë‹¤ë¥¸ ì‚¬ëŒì´ ì½”ë“œë¡¤ ì´í•´í• ë•Œ ë„ì›€ì„ ì¤„ ìˆ˜ ìˆê³ , íƒ€ì¸ì´ ì½”ë“œë¥¼ ì˜ëª» ìˆ˜ì •í•˜ì—¬ íƒ€ì… ì•ˆì „ì„±ì„ ìƒëŠ” ìƒí™©ì„ ì¤„ì—¬ì¤„ ìˆ˜ ìˆë‹¤.

#### ğŸ˜ ì•ˆì „í•œ ê·¼ê±°ê°€ ë– ì˜¤ë¥´ì§€ ì•Šì•„ë„, ê·¸ ê³¼ì • ì†ì—ì„œ ë¶ˆì•ˆì „í•œ ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ìˆìœ¼ë‹ˆ í¬ê¸°í•˜ì§€ ë§ì.

### ğŸ¥ ì •ë¦¬

- ë¹„ê²€ì‚¬ ê²½ê³ ëŠ” ì¤‘ìš”í•˜ë‹ˆ ë¬´ì‹œí•˜ì§€ ë§ì.
- ì ì¬ì ì¸ ìœ„í—˜ì„ í‘œì‹œí•´ì£¼ëŠ” ê²ƒì´ë‹ˆ ì•ˆì „í•œ ë™ì‘ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ìµœì„ ì„ ë‹¤í•´ ì œê±°í•˜ì.
- ë§Œì•½ ëª¨ë“  ê²½ê³ ë¥¼ ë‹¤ ì œê±°í•˜ê¸° ì–´ë µë‹¤ë©´, **ì•ˆì „í•œì§€**ë¥¼ í™•ì¸í•œ í›„ @SuppressWarningì„ ì‚¬ìš©í•˜ì—¬ ê²½ê³ ë¥¼ ì§€ì›Œì£¼ì.


### ğŸ“ Reference

[ìë°” ì œë„¤ë¦­ íƒ€ì… ì†Œê±° ì»´íŒŒì¼ ê³¼ì • ì•Œì•„ë³´ê¸°](https://inpa.tistory.com/entry/JAVA-%E2%98%95-%EC%A0%9C%EB%84%A4%EB%A6%AD-%ED%83%80%EC%9E%85-%EC%86%8C%EA%B1%B0-%EC%BB%B4%ED%8C%8C%EC%9D%BC-%EA%B3%BC%EC%A0%95-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0)
