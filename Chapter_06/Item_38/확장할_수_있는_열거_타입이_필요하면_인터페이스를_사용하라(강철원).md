# π“Ά Item 38. ν™•μ¥ν•  μ μλ” μ—΄κ±° νƒ€μ…μ΄ ν•„μ”ν•λ©΄ μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λΌ

<br>

μ—΄κ±° νƒ€μ…μ€ ν™•μ¥ ν•  μ μ—†μ§€λ§(μƒμ†), μ„μμ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•  μ μλ‹¤.

μ΄λ¥Ό μ΄μ©ν•΄ λ‹¤μκ³Ό κ°™μ€ ν™•μ¥ν•  μ μλ” μ—΄κ±° νƒ€μ…μ„ λ§λ“¤μ–΄ **μ‚¬μ©μ ν™•μ¥ μ—°μ‚°** κ³Ό κ°™μ€ κΈ°λ¥μ„ μ¶”κ°€ν• μ—΄κ±° νƒ€μ…μ„ λ§λ“¤ μ μλ‹¤.

```java
// μ•„μ΄ν… 34μ Operation νƒ€μ…μ„ ν™•μ¥ν•  μ μκ² λ§λ“  μ½”λ“
public interface Operation {
  double apply(double x, double y);
}

public enum BasicOperation implements Operation {
  PLUS("+") {
    public double apply(double x, double y) { return x + y; }
  },
  MINUS("-") {
    public double apply(double x, double y) { return x - y; }
  },
  TIMES("*") {
    public double apply(double x, double y) { return x * y; }
  },
  DIVIDE("/") {
    public double apply(double x, double y) { return x / y; }
  };
  
  private final String symbol;
  BasicOperation(String symbol) {
    this.symbol = symbol;
  }
  
  @Override
  public String toString() {
    return symbol;
  }
}
```

- μ—΄κ±° νƒ€μ…μΈ BasicOperation μ€ ν™•μ¥ν•  μ μ—†μ§€λ§ μΈν„°νμ΄μ¤μΈ Operation μ€ ν™•μ¥ν•  μ μκ³ , μ΄ μΈν„°νμ΄μ¤λ¥Ό μ—°μ‚°μ νƒ€μ…μΌλ΅ μ‚¬μ©ν•λ©΄ λλ‹¤
- μ΄λ ‡κ² ν•λ©΄ Operation μ„ κµ¬ν„ν• λ λ‹¤λ¥Έ μ—΄κ±° νƒ€μ…μ„ μ •μν•΄ κΈ°λ³Έ νƒ€μ…μΈ BasicOperation μ„ λ€μ²΄ν•  μ μλ‹¤

<br>

#### Operation μ„ ν™•μ¥ν•΄λ³΄μ

```java
public enum ExtendedOperation implements Operation {
  EXP("^") {
    public double apply(double x, double y) { return Math.pow(x, y); }
  }, 
  REMAINDER("%") {
    public double apply(double x, double y) { return x % y; }
  };
  
  private final String symbol;
  ExtendedOperation(String symbol) {
    this.symbol = symbol;
  }
  
  @Override
  public String toString() {
    return symbol;
  }
}
```

- ν™•μ¥ν• ExtendedOperation μ€ κΈ°μ΅΄ μ—°μ‚°μ„ μ“°λ κ³³μ΄λ©΄ μ–΄λ””λ“  μ“Έ μ μλ‹¤ (μΈν„°νμ΄μ¤ κΈ°μ¤€)

<br>

#### μΈν„°νμ΄μ¤λ¥Ό μ΄μ©ν• ν™•μ¥ enum μ μ‚¬μ©

Operation enum μ ν…μ¤νΈλ¥Ό μ„ν• λ©”μ„λ“λ¥Ό λ§λ“¤μ–΄ λ³΄μ.

1. ν•μ •μ  νƒ€μ… ν† ν°(class λ¦¬ν„°λ΄)μ„ μ΄μ©ν• λ°©μ‹ 

```java
private static <T extends Enum<T> & Operation> void test(
  	Class<T> opEnumType, double x, double y) {
  for (Operation op: opEnumType.getEnumConstants())
    System.out.printf("%f %s %f = %f%n", x, op, y, op.apply(x, y));
}

// μ½”λ“ μ‚¬μ©
public static void main(String[] args) {
  double x = Double.parseDouble(args[0]);
  double y = Double.parseDouble(args[1]);
  test(ExtendedOperation.class, x, y);
}
```

- class λ¦¬ν„°λ΄μ„ λ„κ²¨ ν™•μ¥λ μ—°μ‚°κ³Ό κΈ°λ³Έ μ—°μ‚° λ¨λ‘λ¥Ό μ‚¬μ© ν•  μ μλ‹¤
- μ λ„¤λ¦­ λ©”μ„λ“μ μ„ μ–Έ(`<T extends Enum<T> & Operation>`)μ λ‚΄μ©μ€ μ—΄κ±° νƒ€μ…μΈ λ™μ‹μ— Operation μ ν•μ„ νƒ€μ…μ΄μ–΄μ•Ό ν•λ‹¤λ” μλ―Έμ΄λ‹¤

<br>

2. ν•μ •μ  μ™€μΌλ“μΉ΄λ“ νƒ€μ…μ„ μ΄μ©ν• λ°©μ‹ 

```java
private static void test(Collection<? extends Operation> opSet, double x, double y) {
  for (Operation op: opSet)
    System.out.printf("%f %s %f = %f%n", x, op, y, op.apply(x, y));
}

// μ½”λ“ μ‚¬μ©
public static void main(String[] args) {
  double x = Double.parseDouble(args[0]);
  double y = Double.parseDouble(args[1]);
  test(Arrays.asList(ExtendedOperation.values()), x, y);
} 
```

- 1λ²λ³΄λ‹¤ λ λ³µμ΅ν•λ‹¤
- μ—¬λ¬ κµ¬ν„ νƒ€μ…μ μ—°μ‚°μ„ μ΅°ν•©ν•΄ λ„κΈΈ μ μκΈ° λ•λ¬Έμ— 1λ² λ³΄λ‹¤ μ΅°κΈ λ” μ μ—°ν•΄μ΅λ‹¤κ³  λ³Ό μ μλ‹¤
- λ°λ©΄ νΉμ • μ—°μ‚°μ—μ„λ” EnumSet κ³Ό EnumMap μ„ μ‚¬μ©ν•μ§€ λ»ν•λ‹¤

<br>

μΈν„°νμ΄μ¤λ¥Ό μ΄μ©ν•΄ ν™•μ¥ κ°€λ¥ν• μ—΄κ±° νƒ€μ…μ„ ν‰λ‚΄λ‚΄λ” λ°©μ‹μ ν• κ°€μ§€ μ‚¬μ†ν• λ¬Έμ μ μ€ **μ—΄κ±° νƒ€μ…λΌλ¦¬ κµ¬ν„μ„ μƒμ†ν•  μ μ—†λ‹¤** λ” μ μ΄λ‹¤.

ν„μ¬μ μμ  μ½”λ“λ” μ½”λ“μ—μ„ μ—°μ‚°κΈ°νΈλ¥Ό μ €μ¥ν•κ³  μ°Ύλ” λ΅μ§μ΄ λ¨λ“  λ¶€λ¶„μ— λ“¤μ–΄κ°€μ•Όλ§ ν•λ‹¤. λ‹¤ν–‰ν μ΄ μμ λ” μ½”λ“μ μ¤‘λ³µλ‰μ΄ μ μ–΄ λ¬Έμ λμ§€ μ•μ§€λ§, μΈν„°νμ΄μ¤μ—μ„ μ •μν•λ” κΈ°λ¥μ΄ λ§λ‹¤λ©΄ κ·Έ λ¶€λ¶„μ„ λ³„λ„μ λ„μ°λ―Έ ν΄λμ¤λ‚ static λ©”μ„λ“λ΅ λ¶„λ¦¬ν•λ” λ°©μ‹μΌλ΅ μ½”λ“ μ¤‘λ³µμ„ μ—†μ•¨ μ μμ„ κ²ƒμ΄λ‹¤.

<br>

μλ°” λΌμ΄λΈλ¬λ¦¬λ„ μ΄λ° ν¨ν„΄μ„ μ‚¬μ©ν•λ‹¤. 

`java.nio.file.LinkOption` μ—΄κ±° νƒ€μ…μ€ CopyOption κ³Ό OpenOption μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν–λ‹¤.

<br>

---

#### μ—΄κ±° νƒ€μ…μ—μ„ μΈν„°νμ΄μ¤λ¥Ό μ΄μ©ν•΄ ν™•μ¥ ν•λ” κ²½μ° μ‚¬μ†ν• λ¬Έμ μ 
- μΈν„°νμ΄μ¤λ¥Ό μ΄μ©ν•΄ ν™•μ¥ κ°€λ¥ν• μ—΄κ±° νƒ€μ…μ„ ν‰λ‚΄ λ‚΄λ” λ°©μ‹μ—λ” `μ—΄κ±° νƒ€μ…λΌλ¦¬ κµ¬ν„μ„ μƒμ†ν•  μ μ—†λ‹¤`λ” μ‚¬μ†ν• λ¬Έμ μ μ΄ μλ‹¤.

- μ•„λ¬΄ μƒνƒμ—λ„ μμ΅΄ν•μ§€ μ•λ” κ²½μ°μ—λ” λ””ν΄νΈ κµ¬ν„μ„ μ΄μ©ν•΄ μΈν„°νμ΄μ¤μ— μ¶”κ°€ν•λ” λ°©λ²•μ΄ μλ‹¤. λ°λ©΄ Operation μλ” μ—°μ‚° κΈ°νΈλ¥Ό μ €μ¥ν•κ³  μ°Ύλ” λ΅μ§μ΄ BasicOperationκ³Ό ExtendedOepration λ¨λ‘μ— λ“¤μ–΄κ°€μ•Όλ§ ν•λ‹¤.

- μ΄ κ²½μ°μ—λ” μ¤‘λ³µλ‰μ΄ μ μΌλ‹ λ¬Έμ λμ§„ μ•μ§€λ§, κ³µμ ν•λ” κΈ°λ¥μ΄ λ§λ‹¤λ©΄ κ·Έ λ¶€λ¶„μ„ λ³„λ„μ λ„μ°λ―Έ ν΄λμ¤λ‚ μ •μ  λ„μ°λ―Έ λ©”μ„λ“λ΅ λ¶„λ¦¬ν•λ” λ°©μ‹μΌλ΅ μ½”λ“ μ¤‘λ³µμ„ μ—†μ•¨ μ μμ„ κ²ƒμ΄λ‹¤.


<br>

***μ—΄κ±° νƒ€μ… μμ²΄λ” ν™•μ¥ν•  μ μ—†μ§€λ§, μΈν„°νμ΄μ¤μ™€ κ·Έ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” κΈ°λ³Έ μ—΄κ±° νƒ€μ…μ„ ν•¨κ» μ‚¬μ©ν•΄ κ°™μ€ ν¨κ³Όλ¥Ό λ‚Ό μ μλ‹¤.***

<br>
