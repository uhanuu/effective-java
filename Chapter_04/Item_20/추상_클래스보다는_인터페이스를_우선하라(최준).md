# 2οΈβƒ£0οΈβƒ£ Item 20 :  μ¶”μƒ ν΄λμ¤λ³΄λ‹¤λ” μΈν„°νμ΄μ¤λ¥Ό μ°μ„ ν•λΌ

<br>

## π“ λ©μ°¨
1. μΈν„°νμ΄μ¤ VS μ¶”μƒ ν΄λμ¤
2. μΈν„°νμ΄μ¤ μ¥μ 
3. μ¶”μƒ λ©”μ„λ“ λ‹¨μ 
4. μΈν„°νμ΄μ¤ λ‹¨μ 
5. μ¶”μƒ κ³¨κ²© κµ¬ν„ ν΄λμ¤
6. μ¶”μƒ κ³¨κ²© κµ¬ν„ ν΄λμ¤ μ‘μ„±
7. κ²°λ΅ 

<br>

## π† μΈν„°νμ΄μ¤ VS μ¶”μƒ ν΄λμ¤

μλ°”κ°€ μ κ³µν•λ” `λ‹¤μ¤‘ κµ¬ν„ λ©”μ»¤λ‹μ¦`μ€ μ•„λμ™€ κ°™μ΄ 2κ°€μ§€κ°€ μλ‹¤. 

- μΈν„°νμ΄μ¤
- μ¶”μƒ λ©”μ„λ“

<br>

λ‘ λ©”μ»¤λ‹μ¦ λ¨λ‘ `μΈμ¤ν„΄μ¤ λ©”μ„λ“λ¥Ό κµ¬ν„ ν•νƒ`λ΅ μ κ³µν•  μ μλ‹¤. (μΈν„°νμ΄μ¤λ” default λ©”μ„λ“)

<br>

λ‘μ κ°€μ¥ ν° μ°¨μ΄κ°€ μλ”λ° `μ°¨μ΄μ `μ„ λ³΄μ. 

- `μ¶”μƒ ν΄λμ¤`
    - μ¶”μƒ ν΄λμ¤κ°€ μ •μν• νƒ€μ…μ„ κµ¬ν„ν•λ” ν΄λμ¤λ” λ°λ“μ‹ μ¶”μƒ ν΄λμ¤μ ν•μ„ ν΄λμ¤κ°€ λμ–΄μ•Ό ν•λ‹¤.

- `μΈν„°νμ΄μ¤`
    - μΈν„°νμ΄μ¤κ°€ μ„ μ–Έν• λ©”μ„λ“λ¥Ό λ¨λ‘ μ •μν•κ³  μΌλ° κ·μ•½ μ μ§€ν‚¨ ν΄λμ¤λΌλ©΄ λ‹¤λ¥Έ μ–΄λ–¤ ν΄λμ¤λ¥Ό μƒμ†ν–λ“  κ°™μ€ νƒ€μ…μΌλ΅ μ·¨κΈ‰λλ‹¤.

<br>

μλ°”λ” λ‹¨μΌ μƒμ†λ§ μ§€μ›ν•λ‹ `μ¶”μƒ ν΄λμ¤ λ°©μ‹`μ€ μƒλ΅μ΄ νƒ€μ…μ„ μ •μν•λ”λ° μ»¤λ‹¤λ€ μ μ•½ μ•κ² λλ‹¤. 

κ·Έλ ‡κΈ° λ•λ¬Έμ— μ΄λ² itemμ—μ„ `μ¶”μƒ ν΄λμ¤λ³΄λ‹¤λ” μΈν„°νμ΄μ¤λ¥Ό μ°μ„ `ν•λΌκ³  ν•λ” κ²ƒμ΄λ‹¤. 

κ·Έλ ‡λ‹¤λ©΄ μΈν„°νμ΄μ¤λ” μ–΄λ–¤ μ¥μ μ΄ μκ³  μ¶”μƒ ν΄λμ¤λ” μ–΄λ–¤ λ¬Έμ κ°€ μλ”μ§€ μ•μ•„λ³΄μ. 

<br>

## π‘ μΈν„°νμ΄μ¤ μ¥μ 

μΈν„°νμ΄μ¤μ μ¥μ μ€ λ‹¤μκ³Ό κ°™λ‹¤. 

- κΈ°μ΅΄ ν΄λμ¤μ—μ„λ„ μ†μ‰½κ² `μƒλ΅μ΄ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•΄ λ„£μ„ μ μλ‹¤`.
    - μΈν„°νμ΄μ¤κ°€ μ”κµ¬ν•λ” λ©”μ„λ“ μ¶”κ°€ν•κ³  implements κµ¬λ¬Έν• μ¶”κ°€ν•λ©΄ λ”λ‹¤.

- μΈν„°νμ΄μ¤λ”`mixin μ •μμ— μ•μ„±λ§μ¶¤`μ΄λ‹¤.
    - λ€μƒ νƒ€μ…μ μ£Όλ κΈ°λ¥μ— μ„ νƒμ  κΈ°λ¥μ„ νΌν•© (mixed in)ν•κΈ° μ‰½λ‹¤.

- μΈν„°νμ΄μ¤λ΅λ” `κ³„μΈµκµ¬μ΅°κ°€ μ—†λ”` νƒ€μ… ν”„λ μ„μ›ν¬λ¥Ό λ§λ“¤ μ μλ‹¤.
    - νƒ€μ…μ„ κ³„μΈµμ μΌλ΅ μ •μν•λ©΄ μλ§μ€ κ°λ… κµ¬μ΅°μ μΌλ΅ μ ν‘ν„ν•  μ μμ§€λ§ ν„μ‹¤μ—λ” κ³„μΈµμ„ μ—„κ²©ν κµ¬λ¶„ν•κΈ° μ–΄λ ¤μ΄ κ°λ…λ„ μλ‹¤.

- `wrapper ν΄λμ¤μ™€ ν•¨κ» μ‚¬μ©`ν•λ©΄ μΈν„°νμ΄μ¤λ” κΈ°λ¥μ„ ν–¥μƒ μ‹ν‚¤λ” μ•μ „ν•κ³  κ°•λ ¥ν• μλ‹¨μ΄ λλ‹¤.

<br>

## π‘ μ¶”μƒ λ©”μ„λ“ λ‹¨μ 

μ¶”μƒ λ©”μ„λ“μ λ‹¨μ μ€ λ‹¤μκ³Ό κ°™λ‹¤. 

μΈν„°νμ΄μ¤μ μ¥μ μ— λ°λ€λλ‹¤κ³  μƒκ°ν•λ©΄ λλ‹¤. 

<br>

- κΈ°μ΅΄ ν΄λμ¤ μ„μ— `μƒλ΅μ΄ μ¶”μƒ λ©”μ„λ“ λΌμ› λ„£κΈ° μ–΄λ µλ‹¤`.
    - λ‘ ν΄λμ¤κ°€ κ°™μ€ μ¶”μƒ ν΄λμ¤ ν™•μ¥ν•λ ¤λ©΄ κ·Έ μ¶”μƒ ν΄λμ¤λ” κ³„μΈµ κµ¬μ΅°μƒ λ‘ ν΄λμ¤μ κ³µν†µ μ΅°μƒμ΄μ–΄μ•Ό ν•λ‹¤.
    - μ΄λ ‡κ² ν•λ©΄ ν΄λμ¤ κ³„μΈµ κµ¬μ΅°μ— ν° νΌλ€ μΌμΌν‚¨λ‹¤.

- μ¶”μƒ ν΄λμ¤λ΅λ” `mixinμ„ μ •μν•  μ μ—†λ‹¤`.
    - κΈ°μ΅΄ ν΄λμ¤μ— λ§μ”μΈ μ μ—†κΈ° λ•λ¬Έμ΄λ‹¤.
    - ν΄λμ¤λ” λ‘ λ¶€λ¨ μ„¬κΈΈ μ μ—†κ³  ν΄λμ¤ κ³„μΈµ κµ¬μ΅°μ— mixin μ‚½μ…ν•  μ„μΉκ°€ μ—†λ‹¤.

- μ¶”μƒν΄λμ¤λ΅ κ³„μΈµ κµ¬μ΅°λ΅ ν‘ν„ν•κΈ° μ–΄λ ¤μ΄ κ°λ… λ§λ“¤λ©΄ `μ΅°ν•© ν­λ°` μΌμ–΄λ‚λ‹¤.
    - μ—¬λ¬ μ†μ„±μ„ μ΅°ν•©ν•λ” ν΄λμ¤λ¥Ό μ¶”μƒ ν΄λμ¤λ΅ λ§λ“¤λ©΄ κ°€λ¥ν• μ΅°ν•© μ „λ¶€λ¥Ό κ°κ°μ ν΄λμ¤λ΅ μ •μν• κ³ λ„λΉ„λ§ κ³„μΈµ κµ¬μ΅°κ°€ λ§λ“¤μ–΄μ§„λ‹¤.
    - μ΄λ° κ²ƒμ„ μ΅°ν•© ν­λ° ν„μƒμ΄λΌκ³  λ¶€λ¥Έλ‹¤.

- μƒμ†ν•΄μ„ λ§λ“  ν΄λμ¤λ” `wrapper ν΄λμ¤λ³΄λ‹¤ ν™μ©λ„κ°€ λ–¨μ–΄μ§€κ³  κΉ¨μ§€κΈ° μ‰½λ‹¤`.
    - νƒ€μ…μ„ μ¶”μƒ ν΄λμ¤λ΅ μ •μν•λ©΄ κ·Έ νƒ€μ…μ— κΈ°λ¥ μ¶”κ°€ν•λ” λ°©λ²•μ€ μƒμ† λΏμ΄λ‹¤.

<br>

## π‘ μΈν„°νμ΄μ¤ λ‹¨μ 

ν•μ§€λ§ μΈν„°νμ΄μ¤μ `λ‹¨μ `λ„ μλ‹¤. 

- `Object λ©”μ„λ“`λ¥Ό default λ©”μ„λ“λ΅ μ κ³µν•΄μ„λ” μ•λλ‹¤.

- μΈν„°νμ΄μ¤λ” `μΈμ¤ν„΄μ¤ ν•„λ“ κ°€μ§ μ μ—†λ‹¤`.

- `public μ•„λ‹ μ •μ  λ©¤λ²„` κ°€μ§ μ μ—†λ‹¤. (private μ •μ  λ©”μ„λ“ μ μ™Έ)

- `μ°λ¦¬κ°€ λ§λ“¤μ§€ μ•μ€ μΈν„°νμ΄μ¤`μ—λ” default λ©”μ„λ“ μ¶”κ°€ν•  μ μ—†λ‹¤.

<br>

## π¦΄ μ¶”μƒ κ³¨κ²© κµ¬ν„ ν΄λμ¤

μ΄λ ‡κ² μΈν„°νμ΄μ¤μ™€ μ¶”μƒ ν΄λμ¤μ— μ¥μ , λ‹¨μ μ΄ λ‹¤ μ΅΄μ¬ν•κΈ° λ•λ¬Έμ— μΈν„°νμ΄μ¤μ™€ μ¶”μƒ ν΄λμ¤μ μ¥μ μ„ λ¨λ‘ μ·¨ν•λ” λ°©λ²•μ΄ μλ‹¤. 

λ°”λ΅ `μΈν„°νμ΄μ¤μ™€ μ¶”μƒ κ³¨κ²© κµ¬ν„ ν΄λμ¤λ¥Ό ν•¨κ» μ κ³µ`ν•λ” κ²ƒμ΄λ‹¤. 

<br>

>μ¶”μƒ κ³¨κ²© κµ¬ν„ ν΄λμ¤λ” λ‹¤λ¥Έ λ§λ΅ Abstract interfaceλΌκ³  λ¶λ¦°λ‹¤. 
>
>μ¶”μƒ κ³¨κ²© κµ¬ν„ ν΄λμ¤λ” `interfaceμ μ¥μ κ³Ό abstract classμ μ¥μ μ„ νΌν•©ν• λ””μμΈ ν¨ν„΄`μ΄λ‹¤.
>
>μ¶”μƒ κ³¨κ²© κµ¬ν„ ν΄λμ¤λ” μ„μ„λ°©μ‹μ„ μ‚¬μ©ν•΄μ„ κµ¬ν„μ²΄κ°€ μƒμ†(extends)κ°€ μ•„λ‹ κµ¬ν„(implements)μ λ°©μ‹μΌλ΅ μ†μ„±μ„ λ¬Όλ ¤λ°›λ„λ΅ ν•λ‹¤. 
>
>μ΄ λ• κµ¬ν„μ΄μ§€λ§ μ¶”μƒν΄λμ¤λ¥Ό μƒμ†λ°›λ” κ²ƒκ³Ό κ°™μ€ ν¨κ³Όλ¥Ό λ³Ό μ μλ‹¤.

<br>

μ–΄λ–»κ² ν•λ” κ²ƒμΈκ°€ ν•λ©΄ λ‹¤μκ³Ό κ°™μ΄ ν•λ©΄ λλ‹¤. 

- μΈν„°νμ΄μ¤λ” νƒ€μ…μ„ μ •μν•κ³  ν•„μ”ν•λ©΄ default λ©”μ„λ“ λ‡ κ° λ„ ν•¨κ» μ κ³µ
- μ¶”μƒ ν΄λμ¤μΈ κ³¨κ²© κµ¬ν„ ν΄λμ¤λ” μΈν„°νμ΄μ¤μ default λ©”μ„λ“ μ•„λ‹ λ‚λ¨Έμ§€ λ©”μ„λ“λ“¤κΉμ§€ κµ¬ν„

<br>

μ΄λ ‡κ² ν•κ³  λ‹¨μν μ¶”μƒ ν΄λμ¤μΈ κ³¨κ²© κµ¬ν„ ν΄λμ¤λ¥Ό ν™•μ¥ν•΄μ„ ν•μ„ ν΄λμ¤ λ§λ“¤λ©΄ `μΈν„°νμ΄μ¤ κµ¬ν„ν•λ”λ° ν•„μ”ν• μΌμ΄ λ€λ¶€λ¶„ μ™„λ£`λλ‹¤. 

μ΄κ²ƒμ΄ ν…ν”λ¦Ώ λ©”μ„λ“ ν¨ν„΄μ΄λ‹¤. 

<br>

**μΈν„°νμ΄μ¤**

```java
public interface Machine{

		void start();
		void stop();
		
		default void move(){
				System.out.println("move left");
		}
}
```

**μ¶”μƒ κ³¨κ²© κµ¬ν„ ν΄λμ¤**

```java
abstract class AbstractMachine implements Machine{
		
		@Override
		void start(){
				System.out.println("start");
		}
		
		@Override
		void stop(){
			System.out.println("stop");
		}

}
```

<br>

μ λ€λ΅ μ„¤κ³„ ν–λ‹¤λ©΄ κ³¨κ²© κµ¬ν„μ€ λ…λ¦½λ μ¶”μƒ ν΄λμ¤λ“  default λ©”μ„λ“λ΅ μ΄λ¤„μ§„ μΈν„°νμ΄μ¤λ“  κ·Έ μΈν„°νμ΄μ¤λ΅ λ‚λ¦„μ κµ¬ν„μ„ λ§λ“¤λ ¤λ” ν”„λ΅κ·Έλλ¨Έμ μΌμ„ μƒλ‹Ήν λμ–΄μ¤€λ‹¤. 

<br>

μ•„λ μμ‹λ” int λ°°μ—΄μ„ Listλ΅ λ§λ“¤μ–΄μ„ λ°ν™ν•λ” λ©”μ„λ“μΈλ° μ—¬κΈ°μ„ κ³¨κ²© κµ¬ν„ ν΄λμ¤λ¥Ό ν™μ©ν•΄ μ‰½κ² λ©”μ„λ“λ¥Ό κµ¬ν„ν• κ²ƒμ΄λ‹¤. 

```java
    static List<Integer> intArrayAsList(int[] a) {
        Objects.requireNonNull(a);

        // λ‹¤μ΄μ•„λ¬λ“ μ—°μ‚°μλ¥Ό μ΄λ ‡κ² μ‚¬μ©ν•λ” κ±΄ μλ°” 9λ¶€ν„° κ°€λ¥ν•λ‹¤.
        // λ” λ‚®μ€ λ²„μ „μ„ μ‚¬μ©ν•λ‹¤λ©΄ <Integer>λ΅ μμ •ν•μ.
        return new AbstractList<>() {
            @Override public Integer get(int i) {
                return a[i];  // μ¤ν† λ°•μ‹±(μ•„μ΄ν… 6)
            }

            @Override public Integer set(int i, Integer val) {
                int oldVal = a[i];
                a[i] = val;     // μ¤ν† μ–Έλ°•μ‹±
                return oldVal;  // μ¤ν† λ°•μ‹±
            }

            @Override public int size() {
                return a.length;
            }
        };
    }
```

<br>

AbstractListλΌλ” μ¶”μƒ κ³¨κ²© κµ¬ν„ ν΄λμ¤λ¥Ό μ‚¬μ©ν–λ‹¤. 

μ΄ μ¶”μƒ κ³¨κ²© ν΄λμ¤μ λ€λ¶€λ¶„μ λ©”μ„λ“λ¥Ό λ°›μ•„μ¤κ³  (κ³¨κ²©μ„ λ°›μ•„μ¨ κ²ƒμ΄λ‹¤) μ΄ λ©”μ„λ“μ— ν•„μ”ν• λ¶€λ¶„λ§ μ¤λ²„λΌμ΄λ”©ν•΄μ„ μ¬μ •μ ν•λ” κ²ƒμ„ λ³Ό μ μλ‹¤. 

<br>

## π“ μ¶”μƒ κ³¨κ²© κµ¬ν„ ν΄λμ¤ μ‘μ„±

κ΄€λ΅€μƒ μΈν„°νμ΄μ¤ μ΄λ¦„μ΄ InterfaceλΌλ©΄ κ·Έ `κ³¨κ²© κµ¬ν„ ν΄λμ¤μ μ΄λ¦„μ€ AbstractInterface`λ΅ μ§“λ”λ‹¤. 

μ–΄μ©λ©΄ `Skeletalnterface`λ΅ ν•λ” κ²ƒμ΄ λ” μ μ ν–μ„μ§€λ„ λ¨λ¥΄μ§€λ§, μ΄λ―Έ Abstractλ¥Ό μ ‘λ‘μ–΄λ΅ μ“°λ” ν•νƒκ°€ ν™•κ³ ν μλ¦¬ μ΅μ•λ‹¤. 

<br>

κ³¨κ²© κµ¬ν„ ν΄λμ¤ μ‘μ„±μ€ μ΅°κΈ μ§€λ£¨ν•μ§€λ§ μƒλ€μ μΌλ΅ μ‰½λ‹¤. 

1. μΈν„°νμ΄μ¤λ¥Ό μ μ‚΄ν΄ `λ‹¤λ¥Έ λ©”μ„λ“λ“¤μ κµ¬ν„μ— μ‚¬μ©λλ” κΈ°λ° λ©”μ„λ“λ“¤μ„ μ„ μ •`ν•λ‹¤. 
    1. μ΄ κΈ°λ° λ©”μ„λ“λ“¤μ€ **κ³¨κ²© κµ¬ν„μ—μ„λ” μ¶”μƒ λ©”μ„λ“**κ°€ λ  κ²ƒμ΄λ‹¤. 

2. κΈ°λ° λ©”μ„λ“λ“¤μ„ μ‚¬μ©ν•΄ `μ§μ ‘ κµ¬ν„ν•  μ μλ” λ©”μ„λ“λ¥Ό λ¨λ‘ default λ©”μ„λ“`λ΅ μ κ³µν•λ‹¤. 
    1. equals, hashCode κ°™μ€ **Objectμ λ©”μ„λ“**λ” default λ©”μ„λ“λ΅ μ κ³µν•λ©΄ μ•λλ‹¤.
    2. μΈν„°νμ΄μ¤μ λ©”μ„λ“ λ¨λ‘κ°€ κΈ°λ° λ©”μ„λ“, default λ©”μ„λ“κ°€ λλ©΄ κ³¨κ²© κµ¬ν„ ν΄λμ¤ λ³„λ„λ΅ λ§λ“¤ μ΄μ λ” μ—†λ‹¤.

3. κΈ°λ° λ©”μ„λ“λ‚ default λ©”μ„λ“λ΅ `λ§λ“¤μ§€ λ»ν• λ©”μ„λ“κ°€ λ‚¨μ•„ μλ‹¤λ©΄` μ΄ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” κ³¨κ²© κµ¬ν„ ν΄λμ¤λ¥Ό ν•λ‚ λ§λ“¤μ–΄ λ‚¨μ€ λ©”μ„λ“λ“¤μ„ μ‘μ„±ν•΄ λ„£λ”λ‹¤. 
    1. κ³¨κ²© κµ¬ν„ ν΄λμ¤μ—λ” ν•„μ”ν•λ©΄ public μ•„λ‹ ν•„λ“μ™€ λ©”μ„λ“ μ¶”κ°€ν•΄λ„ λλ‹¤. 

<br>

`κ³¨κ²© κµ¬ν„μ€ κΈ°λ³Έμ μΌλ΅ μƒμ†ν•΄μ„ μ‚¬μ©ν•λ” κ²ƒμ„ κ°€μ •ν•λ―€λ΅ item 19μ—μ„ μ΄μ•ΌκΈ°ν• μ„¤κ³„ λ° λ¬Έμ„ν™” μ§€μΉ¨μ„ λ¨λ‘ λ”°λΌμ•Ό ν•λ‹¤`. 

μΈν„°νμ΄μ¤μ— μ •μν• default λ©”μ„λ“λ“  λ³„λ„μ μ¶”μƒ ν΄λμ¤λ“ , κ³¨κ²© κµ¬ν„ ν΄λμ¤λ” λ°λ“μ‹ κ·Έ λ™μ‘ λ°©μ‹μ„ μ μ •λ¦¬ν•΄μ„ λ¬Έμ„λ΅ λ‚¨κ²¨μ•Ό ν•λ‹¤. 

<br>

## β€Ό κ²°λ΅ 

μΌλ°μ μΌλ΅ `λ‹¤μ¤‘ κµ¬ν„μ© νƒ€μ…μΌλ΅λ” μΈν„°νμ΄μ¤κ°€ κ°€μ¥ μ ν•©`ν•λ‹¤. 

λ³µμ΅ν• μΈν„°νμ΄μ¤λΌλ©΄ κµ¬ν„ν•λ” μκ³ λ¥Ό λμ–΄μ£Όλ” `κ³¨κ²© κµ¬ν„μ„ ν•¨κ» μ κ³µν•λ” λ°©λ²•μ„ κΌ­ κ³ λ ¤`ν•΄λ³΄μ. 

κ³¨κ²© κµ¬ν„μ€ κ°€λ¥ν• μµλ€ν• μΈν„°νμ΄μ¤μ default λ©”μ„λ“λ΅ μ κ³µν•μ—¬ κ·Έ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• λ¨λ“  κ³³μ—μ„ ν™μ©ν•λ„λ΅ ν•λ” κ²ƒμ΄ μΆ‹λ‹¤. 

κ°€λ¥ν• μµλ€ν•μ΄λΌκ³  ν• μ΄μ λ” μΈν„°νμ΄μ¤μ— κ±Έλ ¤ μλ” κµ¬ν„μƒμ μ μ•½ λ•λ¬Έμ— κ³¨κ²© κµ¬ν„μ„ μ¶”μƒ ν΄λμ¤λ΅ μ κ³µν•λ” κ²½μ°κ°€ λ” ν”ν•κΈ° λ•λ¬Έμ΄λ‹¤. 

<br>

## π“ references

- [μ¶”μƒ κ³¨κ²© κµ¬ν„ ν΄λμ¤](https://velog.io/@kms8571/%ED%8F%AC%EC%8A%A4%ED%8C%85-%EC%8A%A4%ED%84%B0%EB%94%94-JAVA%EC%9D%98-%EC%83%81%EC%86%8D-%EB%AC%B8%EC%A0%9C-%ED%95%B4%EA%B2%B0%EC%9D%84-%EC%9C%84%ED%95%9C-%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4-composition-and-skeletal-implementation)